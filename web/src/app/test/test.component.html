<div class="test-content">

  <div class="components-grid">
    <!-- Left Column -->
    <div class="left-column">
      <!-- Date picker -->
      <div class="component-section">
        <h3>Date Picker</h3>
        <cardappio-date-picker
          [selectedDate]="selectedDate"
          (dateChange)="onDateSelected($event)"
          topLabel="Select Date"
          size="40">
        </cardappio-date-picker>
        <div class="result">
          <strong>Selected:</strong> {{ selectedDate | date:'dd/MM/yyyy' }}
        </div>
      </div>

      <!-- Single Autocomplete -->
      <div class="component-section">
        <h3>Single User Selection</h3>
        <carddapio-autocomplete
          [search]="searchUsers"
          [displayField]="displayUserName"
          placeholder="Search users..."
          topLabelInput="Select a user"
          [isMultiple]="false"
          [size]="40"
          (selectionChange)="onUserSelected($event)"
          (clear)="onClearUsers()">
        </carddapio-autocomplete>
        <div class="result">
          <strong>Selected User:</strong> {{ selectedUser?.name || 'None' }}
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="component-section">
        <h3>Actions</h3>
        <div class="buttons-section">
          <cardappio-save-button
            [disabled]="!acceptTerms"
            (onClick)="onSave()">
          </cardappio-save-button>

          <cardappio-cancel-button
            (onClick)="onCancel()">
          </cardappio-cancel-button>
        </div>

        @if (!acceptTerms) {
          <div class="warning">
            <small>Please accept terms and conditions to enable save</small>
          </div>
        }
      </div>

      <!-- Actions List -->
      <div class="component-section">
        <h3>Actions List</h3>
        <p>Sample actions for record ID: 123</p>
        <cardappio-actions-list
          nameRoute="/users"
          [id]="123"
          [actionsInput]="customActions">
        </cardappio-actions-list>
      </div>
    </div>

    <!-- Right Column -->
    <div class="right-column">
      <!-- Multiple Autocomplete -->
      <div class="component-section">
        <h3>Multiple User Selection</h3>
        <carddapio-autocomplete
          [search]="searchUsers"
          [displayField]="displayUserName"
          [displayMultipleField]="displayUserEmail"
          placeholder="Search multiple users..."
          topLabelInput="Select multiple users"
          [isMultiple]="true"
          [size]="40"
          (selectionChange)="onMultipleUsersSelected($event)"
          (clear)="onClearMultipleUsers()">
        </carddapio-autocomplete>

        <div class="result">
          <strong>Selected Users:</strong> {{ selectedMultipleItems.length }} user(s)
        </div>

        @if (selectedMultipleItems.length > 0) {
          <div class="selected-users">
            @for (user of selectedMultipleItems; track user.id) {
              <div class="user-chip">
                <span class="user-name">{{ user.name }}</span>
                <span class="user-email">{{ user.email }}</span>
              </div>
            }
          </div>
        }
      </div>
      <div class="component-section">
        <h3>Form Controls</h3>
        <div class="form-controls">
          <!-- Adicione os toggles aqui -->
          <cardappio-toggle
            label="Enable Feature"
            [(ngModel)]="isEnabled"
            (onSwitch)="onToggleChange($event)">
          </cardappio-toggle>

          <div class="form-controls">
            <!-- Toggle para Feature -->
            <cardappio-toggle
              label="Enable Feature"
              [(ngModel)]="isEnabled"
              (onSwitch)="onToggleChange($event)">
            </cardappio-toggle>

            <!-- Toggle para Notifications -->
            <cardappio-toggle
              label="Receive Notifications"
              [(ngModel)]="receiveNotifications"
              (onSwitch)="onNotificationsChange($event)">
            </cardappio-toggle>

          <div class="results">

          <div class="result-item">
            <strong>Feature Enabled:</strong>
            <span [class]="isEnabled ? 'status-yes' : 'status-no'">
        {{ isEnabled ? 'Yes' : 'No' }}
      </span>
          </div>
          <div class="result-item">
            <strong>Receive Notifications:</strong>
            <span [class]="receiveNotifications ? 'status-yes' : 'status-no'">
        {{ receiveNotifications ? 'Yes' : 'No' }}
      </span>
          </div>
          <div class="result-item">
            <strong>Terms Accepted:</strong>
            <span [class]="acceptTerms ? 'status-yes' : 'status-no'">
        {{ acceptTerms ? 'Yes' : 'No' }}
      </span>
          </div>
        </div>
      </div>


        </div>

        <div class="results">
          <div class="result-item">
            <strong>Feature Enabled:</strong>
            <span [class]="isEnabled ? 'status-yes' : 'status-no'">
              {{ isEnabled ? 'Yes' : 'No' }}
            </span>
          </div>
          <div class="result-item">
            <strong>Terms Accepted:</strong>
            <span [class]="acceptTerms ? 'status-yes' : 'status-no'">
              {{ acceptTerms ? 'Yes' : 'No' }}
            </span>
          </div>
        </div>
      </div>

      <!-- Dropdown Filter -->
      <div class="component-section">
        <h3>Dropdown Type Filter</h3>
        <cardappio-dropdown-type-filter
          [type]="'string'"
          (selectedChange)="onFilterChange($event)">
        </cardappio-dropdown-type-filter>

        <button class="demo-button" (click)="openCustomDialog()">
          Open Custom Dialog
        </button>
      </div>
    </div>
  </div>

  <!-- Custom Dialog -->
  @if (showCustomDialog) {
    <cardappio-dialog
      [params]="{
        title: 'Custom Dialog Test',
        content: 'This is a custom dialog example with different content.'
      }"
      (eventCancel)="closeCustomDialog()"
      (eventConfirm)="confirmCustomDialog()">
    </cardappio-dialog>
  }
</div>
